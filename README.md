# Banners Rotator - сервис ротации баннеров

### Запуск сервиса
1. Создать в корне проекта `.env` файл, переменные и примеры значений описаны в файле `.env.dist` (можно просто их скопировать)
2. Запустить сервис и окружение командой  `make run`
3. Сбилдить бинарник можно командой `make build`

### Запуск тестов и линтера
1. Сначала нужно запустить сервис (см. раздел "Запуск сервиса")
2. Запустить тесты командой `make test` (команда запускает и интерграционные, и юнит-тесты)
3. Запустить линтер командой `make lint`

### Описание API
1. `/remove_banner` - удаляет указанный баннер из ротации в указанном слоте.  
Body:
```
{
   "slotId": string,
   "bannerId": string
}
```
2. `/add_banner` - добавляет указанный баннер в ротацию в указанном слоте.  
Body:
```
{
   "slotId": string,
   "bannerId": string
}
```
3. `/add_click` - добавляет один клик для указанных слота, баннера и демогруппы.  
Body:
```
{
   "slotId": string,
   "bannerId": string,
   "groupId": string
}
```
4. `/pick_banner` - выбирает баннера для показа указанной демогруппе в указанном слоте. Используется алгоритм epsilon-greedy.  
Body:
```
{
   "slotId": string,
   "groupId": string
}
```
